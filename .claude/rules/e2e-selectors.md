# E2E Selectors

## Use data-testid via tid()

All E2E selectors must use `data-testid` attributes generated by the `tid()` utility.

```tsx
// In component
<button data-testid={tid("login-submit")}>...</button>;

// In Playwright test
await page.getByTestId("login-submit").click();
```

## Never Select By

- CSS class names (`.btn-primary`) — these change with styling.
- DOM structure (`div > span:first-child`) — these break on refactors.
- Component internals or framework-generated attributes.

## Translation-Agnostic Selectors

Do **not** use translated text in selectors. Translations change across locales and should not determine element selection.

```ts
// Wrong — breaks when locale changes
await page.getByText("Iniciar sesion").click();

// Correct — stable across locales
await page.getByTestId("login-submit").click();
```

## Assertions on Text

When asserting that visible text is correct, use the translation key value to build expected text (or accept either locale). For selectors that locate elements, always prefer `getByTestId`.

## Naming test IDs

Use kebab-case for test ID values. Scope them by feature when helpful:

```
auth-login-submit
profile-avatar-upload
dashboard-stat-card
```
